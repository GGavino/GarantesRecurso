"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7014],{7014:(O,m,i)=>{i.r(m),i.d(m,{MenuEntradaPageModule:()=>y});var p=i(177),g=i(4341),c=i(7863),u=i(8986),d=i(467),n=i(4438),h=i(4796),f=i(369),M=i(7596),v=i(1626);let C=(()=>{var t;class r{constructor(e){this.http=e,this.configUrl="assets/logo/logo.json"}getConfig(){return this.http.get(this.configUrl)}}return(t=r).\u0275fac=function(e){return new(e||t)(n.KVO(v.Qq))},t.\u0275prov=n.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const P=[{path:"",component:(()=>{var t;class r{constructor(e,o,l,a,b,F){this.authService=e,this.appStorage=o,this.router=l,this.alertController=a,this.garantiasService=b,this.configService=F,this.email="",this.password="",this.codigoAtivacao="",this.menuLogo=""}ngOnInit(){this.configService.getConfig().subscribe(e=>{this.menuLogo=e.menuLogo}),this.clearFields()}login(){var e=this;return(0,d.A)(function*(){(yield e.authService.login(e.email,e.password))?(yield e.appStorage.set("currentUserEmail",e.email),e.garantiasService.setCurrentUserEmail(e.email),yield e.garantiasService.getGarantias(),e.clearFields(),e.router.navigateByUrl("/tabs")):(console.error("Login failed: Invalid email or password"),yield e.mostrarAlertaErro("Credenciais inv\xe1lidas","Por favor, verifique o seu e-mail e a sua palavra-passe e tente novamente."))})()}ativarConta(){var e=this;return(0,d.A)(function*(){"garantes2024"===e.codigoAtivacao?(e.router.navigateByUrl("/menu-registo"),e.clearFields()):yield(yield e.alertController.create({header:"Erro",message:"C\xf3digo de ativa\xe7\xe3o incorreto.",buttons:["OK"]})).present()})()}clearFields(){this.email="",this.password="",this.codigoAtivacao=""}mostrarAlertaErro(e,o){var l=this;return(0,d.A)(function*(){yield(yield l.alertController.create({header:e,message:o,buttons:["OK"]})).present()})()}}return(t=r).\u0275fac=function(e){return new(e||t)(n.rXU(h.u),n.rXU(f.w),n.rXU(u.Ix),n.rXU(c.hG),n.rXU(M.i),n.rXU(C))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-menu-entrada"]],decls:20,vars:5,consts:[[1,"custom-background",3,"fullscreen"],[1,"ion-text-center","title-container"],[1,"black-text","custom-font",2,"margin-top","3cm","font-size","3rem"],["id","container",1,"ion-no-padding",2,"display","flex","justify-content","center","align-items","center","margin-left","1cm"],["alt","Menu Logo",2,"width","6cm","height","6cm",3,"src"],["label","Email","label-placement","floating","fill","outline",1,"input-center",2,"margin-top","1.2cm","margin-bottom","1.2cm","width","7cm",3,"ngModelChange","ngModel"],["type","password","label","Palavra-passe","label-placement","floating","fill","outline",1,"input-center",2,"margin-bottom","1cm","margin-top","-1cm","width","7cm",3,"ngModelChange","ngModel"],[1,"ion-text-center","ion-padding"],["size","12"],["expand","block",2,"--background","#7b7b7b","width","50%","margin-bottom","1px","margin-top","-40px",3,"click"],["type","C\xf3digo de ativa\xe7\xe3o","label","C\xf3digo de Ativa\xe7\xe3o","label-placement","floating","fill","outline",1,"input-center",2,"margin-top","1cm","width","7cm",3,"ngModelChange","ngModel"],["expand","block","color","light",2,"width","50%","margin-bottom","1px","margin-top","10px",3,"click"]],template:function(e,o){1&e&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"h1",2),n.EFF(3,"Garantes"),n.k0s()(),n.j41(4,"div",3),n.nrm(5,"img",4),n.k0s(),n.j41(6,"ion-input",5),n.mxI("ngModelChange",function(a){return n.DH7(o.email,a)||(o.email=a),a}),n.k0s(),n.j41(7,"ion-input",6),n.mxI("ngModelChange",function(a){return n.DH7(o.password,a)||(o.password=a),a}),n.k0s(),n.j41(8,"div",7)(9,"ion-row")(10,"ion-col",8)(11,"ion-button",9),n.bIt("click",function(){return o.login()}),n.EFF(12,"Autenticar"),n.k0s()()(),n.j41(13,"ion-row")(14,"ion-col",8)(15,"ion-input",10),n.mxI("ngModelChange",function(a){return n.DH7(o.codigoAtivacao,a)||(o.codigoAtivacao=a),a}),n.k0s()()(),n.j41(16,"ion-row")(17,"ion-col",8)(18,"ion-button",11),n.bIt("click",function(){return o.ativarConta()}),n.EFF(19,"Ativar conta"),n.k0s()()()()()),2&e&&(n.Y8G("fullscreen",!0),n.R7$(5),n.Y8G("src",o.menuLogo,n.B4B),n.R7$(),n.R50("ngModel",o.email),n.R7$(),n.R50("ngModel",o.password),n.R7$(8),n.R50("ngModel",o.codigoAtivacao))},dependencies:[g.BC,g.vS,c.Jm,c.hU,c.W9,c.$w,c.ln,c.Gw],styles:['@charset "UTF-8";#container[_ngcontent-%COMP%]{margin-top:20px}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.centered-text[_ngcontent-%COMP%]{font-size:3em}.icon-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.giant-icon[_ngcontent-%COMP%]{font-size:15rem;--color: #000000}ion-input[_ngcontent-%COMP%]{--color: #000000;--placeholder-color: #000000;--background: #ffffff;padding:10px;border-radius:15px}.input-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}ion-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}']}),r})()}];let E=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[u.iI.forChild(P),u.iI]}),r})(),y=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[p.MD,g.YN,c.bv,E]}),r})()}}]);