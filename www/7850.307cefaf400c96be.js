"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7850],{7850:(w,d,s)=>{s.r(d),s.d(d,{MenuRegistoPageModule:()=>$});var p=s(177),l=s(4341),a=s(7863),u=s(8986),_=s(467),e=s(4438),h=s(4796),F=s(369);function R(t,r){1&t&&(e.j41(0,"small"),e.EFF(1,"O email \xe9 de preenchimento obrigat\xf3rio"),e.k0s())}function M(t,r){1&t&&(e.j41(0,"small"),e.EFF(1,"Insira um email v\xe1lido"),e.k0s())}function b(t,r){if(1&t&&(e.j41(0,"ion-text",16),e.DNE(1,R,2,0,"small",17)(2,M,2,0,"small",17),e.k0s()),2&t){let i,n;const o=e.XpG();e.R7$(),e.Y8G("ngIf",null==(i=o.registerForm.get("email").errors)?null:i.required),e.R7$(),e.Y8G("ngIf",null==(n=o.registerForm.get("email").errors)?null:n.email)}}function x(t,r){1&t&&(e.j41(0,"small"),e.EFF(1,"O nome \xe9 de preenchimento obrigat\xf3rio"),e.k0s())}function P(t,r){1&t&&(e.j41(0,"small"),e.EFF(1,"O nome deve ter pelo menos 2 caracteres"),e.k0s())}function v(t,r){if(1&t&&(e.j41(0,"ion-text",16),e.DNE(1,x,2,0,"small",17)(2,P,2,0,"small",17),e.k0s()),2&t){let i,n;const o=e.XpG();e.R7$(),e.Y8G("ngIf",null==(i=o.registerForm.get("nome").errors)?null:i.required),e.R7$(),e.Y8G("ngIf",null==(n=o.registerForm.get("nome").errors)?null:n.minlength)}}function y(t,r){1&t&&(e.j41(0,"small"),e.EFF(1,"O apelido \xe9 de preenchimento obrigat\xf3rio"),e.k0s())}function E(t,r){1&t&&(e.j41(0,"small"),e.EFF(1,"O apelido deve ter pelo menos 2 caracteres"),e.k0s())}function G(t,r){if(1&t&&(e.j41(0,"ion-text",16),e.DNE(1,y,2,0,"small",17)(2,E,2,0,"small",17),e.k0s()),2&t){let i,n;const o=e.XpG();e.R7$(),e.Y8G("ngIf",null==(i=o.registerForm.get("apelido").errors)?null:i.required),e.R7$(),e.Y8G("ngIf",null==(n=o.registerForm.get("apelido").errors)?null:n.minlength)}}function k(t,r){1&t&&(e.j41(0,"small"),e.EFF(1,"A senha \xe9 de preenchimento obrigat\xf3rio"),e.k0s())}function C(t,r){1&t&&(e.j41(0,"small"),e.EFF(1,"A senha deve ter pelo menos 6 caracteres"),e.k0s())}function I(t,r){if(1&t&&(e.j41(0,"ion-text",18),e.DNE(1,k,2,0,"small",17)(2,C,2,0,"small",17),e.k0s()),2&t){let i,n;const o=e.XpG();e.R7$(),e.Y8G("ngIf",null==(i=o.registerForm.get("password").errors)?null:i.required),e.R7$(),e.Y8G("ngIf",null==(n=o.registerForm.get("password").errors)?null:n.minlength)}}const j=[{path:"",component:(()=>{var t;class r{constructor(n,o,m,g,c,f){this.authService=n,this.router=o,this.formBuilder=m,this.alertController=g,this.storage=c,this.toastController=f,this.email="",this.nome="",this.apelido="",this.password="",this.registerForm=this.formBuilder.group({nome:["",[l.k0.required,l.k0.minLength(2)]],apelido:["",[l.k0.required,l.k0.minLength(2)]],email:["",[l.k0.required,l.k0.email]],password:["",[l.k0.required,l.k0.minLength(6)]]}),this.storage.create()}registar(){var n=this;return(0,_.A)(function*(){if(n.registerForm.valid){const{email:o,nome:m,apelido:g,password:c}=n.registerForm.value;yield n.authService.register(o,m,g,c),yield n.storage.set(`user_${o}`,{nome:m,apelido:g,email:o}),yield(yield n.alertController.create({header:"Registo",message:"O seu registo foi feito com sucesso!",buttons:[{text:"OK",handler:()=>{console.log("Exiting..."),document.body.classList.add("logout-animation"),setTimeout(()=>{n.clearFields(),n.router.navigateByUrl("/menu-entrada")},300)}}]})).present()}else yield(yield n.alertController.create({header:"Erro",message:"Por favor, preencha todos os campos corretamente.",buttons:["OK"]})).present()})()}clearFields(){this.registerForm.reset()}}return(t=r).\u0275fac=function(n){return new(n||t)(e.rXU(h.u),e.rXU(u.Ix),e.rXU(l.ok),e.rXU(a.hG),e.rXU(F.w),e.rXU(a.K_))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-menu-registo"]],decls:21,vars:7,consts:[[1,"ion-text-center",3,"translucent"],[1,"custom-toolbar"],["slot","start"],["defaultHref","/menu-entrada"],[1,"custom-title"],[1,"custom-background",3,"fullscreen"],[3,"ngSubmit","formGroup"],["formControlName","email","type","email","label","Email","label-placement","floating","fill","outline",1,"input-center",2,"margin-top","1.2cm","margin-bottom","1.2cm","width","7cm"],["class","ion-text-center","color","danger",4,"ngIf"],["formControlName","nome","type","text","label","Nome Completo","label-placement","floating","fill","outline",1,"input-center",2,"margin-top","1.2cm","margin-bottom","1.2cm","width","7cm"],["formControlName","apelido","type","text","label","Apelido","label-placement","floating","fill","outline",1,"input-center",2,"margin-top","1.2cm","margin-bottom","1.2cm","width","7cm"],["formControlName","password","type","password","label","Password","label-placement","floating","fill","outline",1,"input-center",2,"margin-top","1.2cm","margin-bottom","1.2cm","width","7cm"],["style","margin-bottom: 1cm; ","class","ion-text-center","color","danger",4,"ngIf"],[1,"ion-text-center"],["size","12"],["type","submit","expand","block",2,"--background","#7b7b7b","width","50%","margin","0 auto"],["color","danger",1,"ion-text-center"],[4,"ngIf"],["color","danger",1,"ion-text-center",2,"margin-bottom","1cm"]],template:function(n,o){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title",4),e.EFF(5,"Registo"),e.k0s()()(),e.j41(6,"ion-content",5)(7,"form",6),e.bIt("ngSubmit",function(){return o.registar()}),e.nrm(8,"ion-input",7),e.DNE(9,b,3,2,"ion-text",8),e.nrm(10,"ion-input",9),e.DNE(11,v,3,2,"ion-text",8),e.nrm(12,"ion-input",10),e.DNE(13,G,3,2,"ion-text",8),e.nrm(14,"ion-input",11),e.DNE(15,I,3,2,"ion-text",12),e.j41(16,"div",13)(17,"ion-row")(18,"ion-col",14)(19,"ion-button",15),e.EFF(20," Registar "),e.k0s()()()()()()),2&n&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("formGroup",o.registerForm),e.R7$(2),e.Y8G("ngIf",o.registerForm.get("email").invalid&&(o.registerForm.get("email").touched||o.registerForm.get("email").dirty)),e.R7$(2),e.Y8G("ngIf",o.registerForm.get("nome").invalid&&(o.registerForm.get("nome").touched||o.registerForm.get("nome").dirty)),e.R7$(2),e.Y8G("ngIf",o.registerForm.get("apelido").invalid&&(o.registerForm.get("apelido").touched||o.registerForm.get("apelido").dirty)),e.R7$(2),e.Y8G("ngIf",o.registerForm.get("password").invalid&&(o.registerForm.get("password").touched||o.registerForm.get("password").dirty)))},dependencies:[p.bT,l.qT,l.BC,l.cb,a.Jm,a.QW,a.hU,a.W9,a.eU,a.$w,a.ln,a.IO,a.BC,a.ai,a.Gw,a.el,l.j4,l.JD],styles:["ion-input[_ngcontent-%COMP%]{--color: #000000;--placeholder-color: #000000;--background: #ffffff}.input-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}ion-text.ion-text-center[_ngcontent-%COMP%]{display:block;text-align:center}.custom-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.custom-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);top:50%;transform:translate(-50%,-50%)}"]}),r})()}];let T=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.iI.forChild(j),u.iI]}),r})(),$=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[p.MD,l.YN,a.bv,T,l.X1]}),r})()}}]);